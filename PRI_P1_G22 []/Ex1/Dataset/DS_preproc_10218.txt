greetings using x server provides visuals pseudocolor bit truecolor bit directcolor bitproblem occurs try create window visual different visual parent uses default visual tcxlib reference guide reilly one read section xcteatewindow something like current implementation x using visual parent sure create find suitable colourmap used window attributes creating else badmatch occurswarning strangely enough mentioned newer editions xr guideshowever even pass along suitable colourmap still get badmatch create window non default visualcode looks like cut destroy crt window create_bit_window_on_truecolour_display dpy width height display dpy int width height window win xvisualinfo vinfo xsetwindowattributes attr fprintf stderr opening bit window n xmatchvisualinfo dpy defaultscreen dpy pseudocolor vinfo fprintf stderr display handle bit pseudocolor n exit fprintf stderr using visual x n vinfo visual visualid cmap xcreatecolormap dpy defaultrootwindow dpy vinfo visual allocnone xsync dpy false xinstallcolormap dpy cmap ommision line gives result attr colormap cmap win xcreatewindow dpy defaultrootwindow dpy width height copyfromparent border width depth inputoutput class vinfo visual visual cwcolormap attr return win cut destroy crt executing piece code results badmatch erroranybody knowsplease drop linetake care