posted weeks back got back error message pnews dev null permission deniedyep dev null modearrghhhrenewed interest setting display variable etcthought would post contributionperl script solutiontrys intelligent able type rx host domain etc get xterm running host domain etc difficult stuff taken caretheory program everything ever wanted wanted run remote command background even need x programtry rx big machine make instance backgrounded make remote big machinedetails full list features read readme file lines comments welcomeduncanbin sh shell archiveremove anything line unpack saving file typing sh fileoverwrite existing files type sh file calso feed standard input via unshar typing sh file e garchive complete see following message end end archivecontents readme imakefile manifest makefile rx man rx pl wrapped sinclair dcs gla ac uk thu apr path bin usr bin usr ucb export path test f readme c echo shar clobber existing file readme else echo shar extracting readme characters sed x readme end_of_file x x glasgow rx remote execution x programsversion x xcopyright duncan sinclair sinclair dcs gla ac uk x xtrivial install imakefile make even trivialx xthe perl script needs customisation installed xedit rx pl file read commentsdone xthis xmkmf make install install manx xfeatures x x right thing site remote executionincluding x setting display include domain names passing x magic cookies xhost stuffx x allow different remote user namerx l user host x x smart quoting arguments makes passing wild cards easyx x custom command execution link remacs get remote x emacs commandx x automatic xterm options names xterm according hostname x turns login shellx x default command xtermx x propagates x ish envvariables remote session user may x extend list variables passx x special handling bourne shell usersx x tries remote execution directory localx propagates pwd intelligent mannerx x logs errors filex x overall intelligence tm makes reasoned decisions x trying tries right thingx x written perl portability hackabilityx xfor info read man page sourcex end_of_file test ne wc c readme echo shar readme unpacked wrong sizefi end readme fi test f imakefile c echo shar clobber existing file imakefile else echo shar extracting imakefile characters sed x imakefile end_of_file x glasgow rx imakefilex x programs rx x xall programs x xinstall safe x xinstallnamedprog rx pl rx bindir xinstallmanpage rx mandir x xinstall x rm bindir rxterm x ln bindir rx bindir rxterm x xsafe x grep debug rx pl false x xshar safe x makekit p x perl pi e sinclair dcs gla ac uk sinclair dcs gla ac uk part x end_of_file test ne wc c imakefile echo shar imakefile unpacked wrong sizefi end imakefile fi test f manifest c echo shar clobber existing file manifest else echo shar extracting manifest characters sed x manifest end_of_file x file name archive description x x readme read first x imakefile x manifest shipping list x makefile x rx man x rx pl end_of_file test ne wc c manifest echo shar manifest unpacked wrong sizefi end manifest fi test f makefile c echo shar clobber existing file makefile else echo shar extracting makefile characters sed x makefile end_of_file x makefile generated imake editx xconsortium imake c v rws exp x x cpp used machine replaces newlines multiple tabs x spaces macro expansion single spaceimake tries compensate x always successfulx x x x makefile generated imake tmpl tmp iif x xconsortium imake tmpl v rws exp x x platform specific parameters may set appropriate vendor cf x configuration filessite specific parameters set file x site deffull rebuilds recommended parameters changedx x c preprocessor define unique symbols need x set bootstrapcflags rebuilding imake usually x make world first timex x x x site specific configuration parameters need come x platform specific parameters edit site def change x x site xconsortium site def v rws exp x x x platform specific configuration parameters edit sun cf change x x platform xconsortium sun cf v rws exp x x operating system sunos x x xconsortium sunlib rules v rws exp x x x site specific configuration parameters go x platform specific parameters edit site def change x x site xconsortium site def v rws exp x x shell bin sh x x topx current_dirx x ar ar cq x bootstrapcflags x cc gcc fpcc struct return x x x compress compress x cpp lib cpp std_cpp_defines x preprocesscmd gcc fpcc struct return e std_cpp_defines x install install x ld ld x lint lint x lintlibflag c x lintopts axz x ln ln x make make x mv mv x cp cp x x ranlib ranlib x ranlibinstflags x x rm rm f x troff psroff x msmacros ms x tbl tbl x eqn eqn x std_includes x std_cpp_defines x std_defines x extra_load_flags x extra_libraries x tags ctags x x sharedcodedef dsharedcode x shlibdef dsunshlib x x proto_defines x x instpgmflags x x instbinflags x instuidflags x instlibflags x instincflags x instmanflags x instdatflags x instkmemflags g kmem x x projectroot usr x x x top_includes incroot x x cdebugflags x ccoptions x x allincludes includes extra_includes top_includes std_includes x alldefines allincludes std_defines extra_defines proto_defines defines x cflags cdebugflags ccoptions alldefines x lintflags lintopts dlint alldefines x x ldlibs sys_libraries extra_libraries x x ldoptions cdebugflags ccoptions local_ldflags l usrlibdir x x ldcombineflags x r x dependflags x x macrofile sun cf x rm_cmd rm ckp ln bak bak core errs emacs_ tags tags make log makeout x x imake_defines x x irulesrc configdir x imake_cmd imake duseinstalled irulesrc imake_defines x x iconfigfiles irulesrc imake tmpl irulesrc imake rules x irulesrc project tmpl irulesrc site def x irulesrc macrofile extra_iconfigfiles x x x x window system build parameters x xconsortium project tmpl v rws exp x x x x window system make variables need coordinated rules x x pathsep x usrlibdir usr x lib x bindir usr x local bin x incroot usr x include x buildincroot top x buildincdir buildincroot x x buildinctop x incdir incroot x x admdir usr adm x libdir usrlibdir x x configdir libdir config x lintlibdir usrlibdir lint x x fontdir libdir fonts x xinitdir libdir xinit x xdmdir libdir xdm x twmdir libdir twm x manpath usr x man x mansourcepath manpath man x mansuffix n x libmansuffix x mandir mansourcepath mansuffix x libmandir mansourcepath libmansuffix x nlsdir libdir nls x pexapidir libdir pex x xapploaddir libdir app defaults x fontcflags x x instappflags instdatflags x x imake imake x depend makedepend x rgb rgb x x fontc bdftopcf x x mkfontdir mkfontdir x mkdirhier bin sh bindir mkdirhier x x configsrc top config x docutilsrc top doc util x clientsrc top clients x demosrc top demos x libsrc top lib x fontsrc top fonts x includesrc top x x serversrc top server x utilsrc top util x scriptsrc utilsrc scripts x examplesrc top examples x contribsrc top contrib x docsrc top doc x rgbsrc top rgb x dependsrc utilsrc makedepend x imakesrc configsrc x xauthsrc libsrc xau x xlibsrc libsrc x x xmusrc libsrc xmu x toolkitsrc libsrc xt x awidgetsrc libsrc xaw x oldxlibsrc libsrc oldx x xdmcplibsrc libsrc xdmcp x bdftosnfsrc fontsrc bdftosnf x bdftosnfsrc fontsrc clients bdftosnf x bdftopcfsrc fontsrc clients bdftopcf x mkfontdirsrc fontsrc clients mkfontdir x fslibsrc fontsrc lib fs x fontserversrc fontsrc server x extensionsrc top extensions x xilibsrc extensionsrc lib xinput x pexlibsrc extensionsrc lib pexlib x phigslibsrc extensionsrc lib pex x x xconsortium sunlib tmpl v rws exp x xshlibldflags assert pure text xpicflags fpic x x depextensionlib x extensionlib lxext x x depxlib depextensionlib x xlib extensionlib lx x x depxmulib usrlibdir libxmu sa soxmurev x xmulibonly lxmu x xmulib lxmu x x depoldxlib x oldxlib loldx x x depxtoollib usrlibdir libxt sa soxtrev x xtoollib lxt x x depxawlib usrlibdir libxaw sa soxawrev x xawlib lxaw x x depxilib x xilib lxi x x deppexlib x pexlib lpex x x soxlibrev x soxtrev x soxawrev x sooldxrev x soxmurev x soxextrev x soxinputrev x sopexrev x x depxauthlib usrlibdir libxau x xauthlib lxau x depxdmcplib usrlibdir libxdmcp x xdmcplib lxdmcp x x depphigslib usrlibdir libphigs x phigslib lphigs x x depxbsdlib usrlibdir libxbsd x xbsdlib lxbsd x x lintextensionlib lintlibdir llib lxext ln x lintxlib lintlibdir llib lx ln x lintxmu lintlibdir llib lxmu ln x lintxtool lintlibdir llib lxt ln x lintxaw lintlibdir llib lxaw ln x lintxi lintlibdir llib lxi ln x lintpex lintlibdir llib lpex ln x lintphigs lintlibdir llib lphigs ln x x deplibs depxawlib depxmulib depxtoollib depxlib x x deplibs deplibs x deplibs deplibs x deplibs deplibs x x x imake rules building libraries programs scripts data files x rules xconsortium imake rules v rws exp x x x start imakefile x x glasgow rx imakefilex x programs rx x xall programs x xinstall safe x xinstall rx pl x destdir bindir set x x else set x mkdirhier destdir bindir fi x install c instbinflags rx pl destdir bindir rx x xinstall man rx man x destdir mandir set x x else set x mkdirhier destdir mandir fi x install c instmanflags rx man destdir mandir rx mansuffix x xinstall x rm bindir rxterm x ln bindir rx bindir rxterm x xsafe x grep debug rx pl false x xshar safe x makekit p x perl pi e sinclair dcs gla ac uk sinclair dcs gla ac uk part x x x common rules makefiles edit x xemptyrule x xclean x rm_cmd x xmakefile x f makefile set x x rm makefile bak mv makefile makefile bak x else exit fi x imake_cmd dtopdir top dcurdir current_dir x xtags x tags wch x tags xwch tags x xsaber x load alldefines srcs x xosaber x load alldefines objs x x x empty rules directories subdirs edit x xinstall x echo install current_dir done x xinstall man x echo install man current_dir done x xmakefiles x xincludes x x x dependencies generated makedepend x end_of_file test ne wc c makefile echo shar makefile unpacked wrong sizefi end makefile fi test f rx man c echo shar clobber existing file rx man else echo shar extracting rx man characters sed x rx man end_of_file x th rx march x version x sh name xrx rxterm r remote command xterm anything execution x sh synopsis x b rx x x b l x username x x host x x command x x br x b rxterm x x b l x username x x host x x ir argsx x sh description xthe x b rx xprogram connect specified x host xand executes specified x command xin background returning immediatelyallow execution xof x programs copies number environmental variables xthe remote sessionomit x ir command xthen rx start xterm remote hostx b rxterm xvarient starts remote xterm host also passes x args xto remote xterm argumentsx pp xshell metacharacters quoted interpreted local xmachine quoted metacharacters interpreted remote xmachinex pp xif name file x b rx xis executed anything rx x b rx xtakes name stripped leading r command xto run remote host using x command xparameters arguments remote commandx pp xif x b rx xthinks using x b xauth xbased x authorisation calling site host xto different username attempt copy authorization xkey remote accountotherwise try use x b xhost xto grant access remote hostx sh options x tp x bi l username xuse x username xas remote username instead local usernameabsence xof option remote username local usernamex x sh environment xif set values path display xenvironment xapplresdir xxfilesearchpath xuserfilesearchpath openwinhome ld_library_path xand xauthority exported remote program unless xremote username different remote host site xcase display exported cases variables named xvariable rxenvx pp xthe display variable tweaked appropriate contain qualified xa hostname neededx sh diagnostics x tp x ib command recognise namex b rx xcannot decode name calledcase xit prints warning message continues normalx tp x b rx usage rx l username hostname args xthis means could decode arguments givenx sh author xduncan sinclair sinclair dcs glasgow ac uk july x br xoriginally based program name x b gwm xdistributiondistinguish rx programs xwith similar names refer program x b glasgow x br rxx sh see also xx rsh xterm xauth xhost gwm x sh bugs x b rx xmakes number assumptions relationship xlocal user remote one depending whether remote xhost onsite whether alternative username used xorx pp xin particular either locally used shell remotely xused shell standard bourne shell x b sh xthen strange things likely happenespecially xit onex pp xsometimes quoting get messedx pp xit easy fool smarts x b rx xto make believe something true failx pp xwhen x b rx xuses x b xhost xto grant access x b xhost xcommand may fail silentlyx pp xif x b rx xtries send large command remote machine xlikely fail parse error cshhappens xwill probably reduce size exported environmentend_of_file test ne wc c rx man echo shar rx man unpacked wrong sizefi end rx man fi test f rx pl c echo shar clobber existing file rx pl else echo shar extracting rx pl characters sed x rx pl end_of_file xusr local bin perl x config change line point copy perlx x glasgow rx version x x copyright duncan sinclair sinclair dcs gla ac uk x x last modified early aprilx x distribution limited per usual mit copyrightx x remote execution x programsbased script old version gwmx x install put rx bin make rxterm linkx configuration necessary see config comments x x less less like original x x major hacked work set also partly x written work sh rather kshx x maybe turn first zsh scriptx x looks like turned perl script point big improvementx x code tries intelligent way worksmeans x tons implicit assumptions environment runx assumptions valid machines use x environmenttime try make assumptions possible x remote machinelist tricky ones x remote machine cshlinuxx rshell bin k sh remote shell bin k shmakex remote shell sh path compatibleuse csh etc x pass cookie remote machine need x know cookieeatx must others x x using csh run remote commandssimply x interact badly rsh hang waiting file descriptor x closedrather use zsh bash even perl x universal cshx x xrequire stat pl x x calledx x argv x argvx x config x change variables domain name pattern x match variations domain namemust include x leading dotshostname includes domain see x code marked xxx x x dom dcs gla ac uk x dompat dcs gla sgow ac ukx x config x change value bindir set variable x think users smarterx x xpaths usr x bin x x config x make name remote shell commandx x rsh rsh x x end config x x variables doubt use sometime x x usage argv usage argv l username hostname args n x rshell getpwuid bin sh x home env home getpwuid x xauth env xauthority homexauthority x logf rx log x stuff x debug x x anything else close stdinmight stop rx hanging x due rsh weirdnessx xclose stdin x x l flag x xif argv eq l x shift x user argv die usage x luser l user x shift x x x pick host host x x mach argv die usage xshift x x things think remote machinex x mach dompat x offsite mach x xseems trust dumb user set hostname rightx x hostname env hostname hostname current host x hostname hostname current host x hostname n x x hostnames include domain comment next linex xif offsite hostname hostnamedom xxx x x know differentx x diff hostname ne mach x x display goingxdangerheavy regular expressions follow x needs written modular extended x support resetting host unix requiredx x display env display x display dompat x display unixhostname diff x displaydom offsite x env display display x x comes hard bit shquote argsx also quote quotescope csh braindamage x quotes quoted thus x arg foo bar get foo barx xforeach argv x g xx x xx xprog x argv eq rx last prog x argv eq rxterm x unshift argv ls diff x unshift argv xterm ls n mach x last prog x x argv runshift argv last prog x warn argv recognise namex x x nothing else become rxtermx xif argv x unshift argv ls diff x unshift argv xterm ls n mach x x x special considerations sidex xif offsite user x x want pass cookiex x e xauth x x going unsecure cookie appear number x command line argsleast workx need enhanced ever fix code x set display return serverx x cookie path path xpaths xauth list display x chop cookie x cooks split cookie x shift cooks x unshift stuff xauth add display cooks cooks x else x x yukcrockhatex x system xhost mach dev null dev null diff x x x really want pass value displayx x vars display split env rxenv x else x x variables wish export x x vars x display x xenvironment x xfilesearchpath x xuserfilesearchpath x xapplresdir x openwinhome x ld_library_path x manpath rxman bourne shell usersx xauthority x split env rxenv x x x braindead bourne shell needs given path x would rather pass current path might work x destination machinerather set user x remote shell rshx fortunately x programs arch independant place x cos problem locallyx check rshell might running another shell x differant login shellknow sounds weird x common roundx also included ksh brain damage cos see easy way x pass throught env env without latex one person ksh login shell anyway x oh yeah assuming bourne shell x bourne shellmuch important isnt x bourne shell better bourne shellx x rshell k sh push vars path x x x validate pwd routine x xsub validate_pwd x local pwdstats dotstats x local pwd _ x x unless defined pwd return undef x unless dotstats statreturn undef x unless pwdstats stat pwd return undef x pwdstats st_dev dotstats st_dev x pwdstats st_ino dotstats st_ino return undef x pwd x x x try find nice valid pwdx xpresent x pwd env pwd x foopwd pwd x foopwd tmp_mnt exportx pwd validate_pwd foopwd validate_pwd pwd x x unless pwd x chop pwd pwd x foopwd pwd x foopwd tmp_mnt exportx pwd validate_pwd foopwd validate_pwd pwd home x x x pwdx x try find somewhere nice live sidex xunless offsite x unshift stuff test pwd cd pwd x x x start building full commandx xforeach var vars x val env var x unshift stuff setenv var valx x x commands side x xunshift stuff set nonomatch using cshx x build remote commandx x remote umask join stuff argvdev null logf x remote g x remoteremotex x build arg list execx x comm rsh luser mach csh fc remote x xx xif debug x print comm n x else x exec comm x x x rsh return indication went x side ok cos aint going x wait around see happenedx xexit x x end end_of_file test ne wc c rx pl echo shar rx pl unpacked wrong sizefi chmod x rx pl end rx pl fi echo shar end archivecp dev null arkisdone missing testf ark isdone missing missing fi done test missing echo archiverm f ark isdone else echo still need unpack following archives echo missing fi end shell archiveexit