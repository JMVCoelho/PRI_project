archive name x faq part last modified subject writing widget use float resource valuefloat resources portable size value may larger size xtpointertry using pointer float instead xaw scrollbar float resources handled waysubject memory leak xr xtdestroywidgetyesunofficial fix xr destroy c destroy c thu jul lib xt destroy c thu jul xconsortium destroy c v swick exp plus unofficial patches revisions copyright digital equipment corporation maynard massachusetts intdestroyrec dr app destroy_list app destroy_count dr dispatch_level dispatch_level widget w dr widget app destroy_count bcopy char dr char drapp destroy_count sizeof destroyrec xtphasedestroy w else dr intdestroyrec dr app destroy_count xtphasedestroy result calls xtdestroywidget could cause app destroy_list reallocateddr app destroy_list dr dispatch_level dispatch_level widget w dr widget app destroy_count bcopy char dr char drapp destroy_count sizeof destroyrec xtphasedestroy w else donna converse converse expo lcs mit edu subject callbacks guaranteed called order registeredalthough books demonstrate current implementation xt happens call callback procedures order registered specification guarantee sequence supplemental authoritative documents easente swick volume say order undefinedcallback list manipulated widget application xt cannot guarantee order executiongeneral callback procedures thought operating independently one another depend side effects callbacks operating seqence needed single callback registered explicitly call functions necessarythanks converse expo lcs mit edu subject xtdestroywidget actually destroy widgetxtdestroywidget operates two passes order avoid leaving dangling data structures function call marks widget actually destroyed program returns event loopsubject query user synchronously using xtpossible code looks like trivial callback clear flow controlcalls askuser block answer set one valid valuesyes answer code drops callback back event processing loop void quit widget w xtpointer client xtpointer call int answer answer askuser w really quitret_yes answer answer askuser w really positiveret_yes answer exit realistic example might ask whether create file whether overwriteaccomplished entering second event processing loop waiting user answers question answer returned calling functionfunction askuser looks something like motif replaced widget set specific code create sort dialog box displaying question string buttons ok cancel help equivalents int askuser w string widget w char string int answer ret_none used marker widget dialog could cache carry arg args int n xtappcontext context n xtsetarg args n xmnmessagestring xmstringcreateltor string xmstring_default_charset n xtsetarg args n xmndialogstyle xmdialog_application_modal n dialog xmcreatequestiondialog xtparent w string args n xtaddcallback dialog xmnokcallback response answer xtaddcallback dialog xmncancelcallback response answer xtaddcallback dialog xmnhelpcallback response answer xtmanagechild dialog context xtwidgettoapplicationcontext w answer ret_none xtapppending context xtappprocessevent context xtimall xtdestroywidget dialog blow away dialog box shell return answer dialog supports three buttons set call function tickled uservariable answer set user finally selects one choices void response w client call widget w xtpointer client xtpointer call int answer int client xmanycallbackstruct reason xmanycallbackstruct call switch reason reason case xmcr_ok answer ret_yes define value break case xmcr_cancel answer ret_no break case xmcr_help answer ret_help break default return code unwraps back point answer needed continuesthanks dan heller argv sun com code dan r contrib widgetwrap librarysubject determine name existing widgetwidget id need know name widgetusers r later best using xtname function work widgets non widget objectsstill using r use simple bit code wantnote depends widget internal data structures necessarily portable future versions xt including rinclude x corep h include x xresource h string xtname widget widget widget work non widget objects return xrmnametostring widget core xrm_name modified suggestion larry rogers larry boris webo dg com subject get baddrawable error drawing xtwindow widgetorder get window xlib graphics within xt based program window associated widget created part realization widgetusing window id null window could create error describenecessary call xtrealizewidget attempting use window associated widgetnote window created xtrealizewidget call server may actually mapped yet also wait expose event window drawingsubject get badmatch error calling xgetimagebadmatch error occur specified rectangle goes edge screenwant catch error deal take following steps avoid error make pixmap size rectangle want captureclear pixmap background using xfillrectangleuse xcopyarea copy window pixmapget noexpose event copy cleanuse xgetimage grab image pixmapget one graphicsexpose events copy clean x width height members graphicsexpose event structures tell parts pixmap goodget rid pixmap probably takes lot memorythanks oliver jones oj pictel com subject application tell run xnumber programs offer x modes otherwise run straight character modeeasiest way application determine running x display attempt open connection x server display xopendisplay display_name display x stuff else curses something else display_name either string specified command line following display convention otherwise char null case xopendisplay uses value display setsuperior simply checking existence display command line argument checking display set environment neither adequatesubject make busy cursor application computingnecessary call xdefinecursor every window applicationeasiest thing create single inputonly window large largest possible screen make child toplevel window clipped window affect applicationneeds big largest possible screen case user enlarges window busy moves elsewhere within virtual desktopsubstitute toplevel top widget similar code work xlib applications use top window unsigned long valuemask xsetwindowattributes attributes ignore device events busy cursor displayedvaluemask cwdontpropagate cwcursor attributes do_not_propagate_mask keypressmask keyreleasemask buttonpressmask buttonreleasemask pointermotionmask attributes cursor xcreatefontcursor xtdisplay toplevel xc_watch window big display screen clipped parent window never worry resizing xcreatewindow xtdisplay toplevel xtwindow toplevel unsigned int inputonly copyfromparent valuemask attributes maximum size could replaced real size screen particularly avoid servers problems windows largerwant use busy cursor map raise window go back normal unmapautomatically keep getting extra mouse events depending precisely window manager works may may similar effect keystrokes welladdition note also xaw widgets support xtncursor resource temporarily reset merely wish change cursor without blocking pointer eventsthanks andrew wason aw cellar bae bellcore com dan heller argv sun com mouse larry mcrcim mcgill edu subject fork without hanging parent x programx based application spawns unix processes continue run closed typically vanish children terminated children inherit parent open x connection displayneed fork immediately child process close connectionnumber xtdisplay widget close file descriptor display informationexecable exit parentalternatively exec ing make call causes file descriptor closed execvoid fcntl connectionnumber xdisplay f_setfd thanks janet anstett anstettj tramp colorado edu gordon freedman gjf duts ccc amdahl comgreg holmberg holmberg frame comsubject make xt xlib calls signal handlerxlib xt mutual exclusion protecting critical sectionssignal handler makes call wrong time might function calling already executing leave library inconsistent statenote ansi c standard points behavior signal handler undefined signal handler calls function signal problem specific xlib xt posix specification mentions functions may called safely may assumed functions called xlib xt functionswork around problem setting flag interrupt handler later checking work procedure timer event previously addednote article x journal example reilly volume errorthanks pete ware ware cis ohio state edu donna converse converse expo lcs mit edu subject xlib sequence lost errorsmay see errors issue xlib requests xlib error handler likely make calls generate x requests xt xlib signal handler casesubject xt program handle socket pipe file inputcommon need write xt program accept input user via x connection file descriptor operates efficiently without blocking either x connection file descriptorsolution use xtappaddinputopen file descriptor use xtappaddinput register input handlerinput handler called every time something file descriptor requiring program attentionwrite input handler like would xt callback work quickly returnsimportant use non blocking system calls input handlersinput handlers read file descriptor although input handler write handle exception conditions wishcareful register input handler read disk filefind function called even input pendingxtappaddinput actually working supposedinput handler called whenever file descriptor ready read new data readdisk file unlike pipe socket almost always ready read however spin back beginning read data readresult function almost always called every time around xtappmainloopway get type interaction expecting add line beginning function test whether new data ioctl fd fionread n n return called frequently application effectively busy wait may better using xtappaddinput instead setting timer timer procedure checking file inputcourtesy dan heller argv ora com mouse larry mcrcim mcgill edu ollie jones oj pictel com subject simulate button press release event widgetusing xsendevent likely setting window field event xt needs order match widget receive eventsending events application use xtdispatchevent insteadefficient xsendevent avoid round trip serverdepending well widget written may able call action procedures order get effects wantcourtesy mark horstman mh sarek sbc com subject anything appear run simple programright map window drawinghowever window ready drawn actually appears screen application receives expose eventdrawing done generally appearsee code like many programs code would appear window created mapped done xnextevent the_display the_event switch the_event type case expose expose events redraw xdrawline the_display the_window the_gc break note second problem xlib implementations set default graphics context correct foreground background colors program could previously include code the_gc_values foreground blackpixel the_display the_screen e gthe_gc_values background whitepixel the_display the_screen e gthe_gc xcreategc the_display the_window gcforeground gcbackground the_gc_valuesnote code uses blackpixel whitepixel avoid assuming black white vice versarelationship pixels colors black white implementation dependentmay reversed may even correspond black whitealso note actually using blackpixel whitepixel usually wrong thing finished program ignores user preference foreground backgroundalso note run situation xt based program draw xtwindow w right realized may yet appearedsubject difference screen screenscreen xlib structure includes information one monitors virtual monitors single x display supportsserver support several independent screensnumbered unix unix unix etc screen screen_number second digit thought index array available screens particular display connectionmacros use obtain information particular screen application running typically two forms one takes screen one takes display screen_numberxt based programs typically use xtscreen widget determine screen application running uses single screenpart confusion may arise fact macros return characteristics screen display names xdisplaywidth xdisplayheight etcsubject use c xmotifxviewxr header files compatible cmotif header files usable inside extern chowever definition string intrinsic h conflict libg string class needs worked aroundprojects help wwl set c classes jean daniel fekete wrap x toolkit widgets available via anonymous ftp export lcs mit edu contrib wwl tar z lri lri fr pub wwl tar zworks building set c classes parallel class tree widgetsc interviews toolkit obtainable via anonymous ftp interviews stanford eduinterviews uses box glue model similar tex constructing user interfaces supports multiple looks user interfacessample applications include wysiwig document editor doc macdraw like drawing program idraw interface builder ibuildthings class library written rome air force base strategic air command available freeware archive sitesmotif public domain library defines c class wrappers motif adds application class e g initializing x also integrates wcl xbae widget setwork developed ronald van loon rvloon cv ruu nl based x set bindings done university lowell graphics research laboratorycurrent sources available decuac dec com pub x motif jul tar zsource code examples doug young object oriented programming c osf motif isbn include widget wrappers include set classes encapsulates higher level facilities commonly needed motif xt based applications check export ftp contrib young c tar zrogue wave offers view h c programmers using motif infoproduct called commonview glockenspiel ltd irelandapparently c based toolkit multiple window systems including pm windows x motifxv sold qualix fax implements interface gil files sun openwindows developers guide produces xview wrapper classes cuit set c classes embedding xview toolkit intended use sun openwindows developers guide builder toolsources export mit edu au uit tar zversion releasedalso likely use objectcenter saber creasonable alternative parcplace formerly solbourne object interfacethanks douglas rand dsrand mitre org george wu gwu tcs com subject obtain alternate language bindings xversions clx lisp bindings part x core source distributionsversion clx r tape version export lcs mit edu contrib clx r tar zsaic ada x bindings anonymous ftp pub stars rosslyn unisys comx ada study team sponsored nasa jsc apparently working bindingsinformation xada ghg hou tx usgnu smalltalk beta native smalltalk binding x called stix steven byrne eng sun comstill beginning stages documentation sparse outside smalltalk codesources available pub gnu smalltalk tar z prep ai mit edu ugle unitprolog bindings called xwip written ted kim ucla supported part darpa available anonymous ftp export lcs mit edu contrib xwip tar z ftp cs ucla edu pub xwip tar zprolog language bindings depend quintus type foreign function interface prologdeveloper gotten work quintus sicstus prologinquiries go xwip cs ucla eduscheme bindings xlib osf motif xaw part elk distribution version export obsoletes version r contrib tapex scm bolt accessory aubrey jaffer scm scheme interpreter provides interface xlib motif openlook available via ftp altdorf ai mit edu archive scm xscm tar z nexus yorku ca pub scheme new xscm tar zada bindings motif explicitly eventually made available jet propulsion laboratories probably normal electronic meansadvance information obtained dsouleles dsfvax jpl nasa gov may respond time permitsadamotif complete binding x motif ada language many common systems based part upon saic unisys bindings also includes uil ada translatorinfo systems engineering research corporation ada serc well serc apple comalso mit consortium although involved producing ada bindings x maintains partial listing people involved x ada information available donna converse converse expo lcs mit edusubject xgetwindowattributes get window background pixel pixmapset background pixel pixmap window cannot read clientsreason client create pixmap set background pixmap window free pixmapwindow keeps background pixmap destroyedsure window background pixel pixmap use xcleararea clear region background color use xgetimage read back pixelhowever action alters contents window suffers race conditions exposurescourtesy dave lemke ncd stuart marks sun note applies border pixel pixmapmis feature protocol allows server free manipulate pixel pixmap however wantsrequiring server keep original pixel pixmap potentially lot space savedcourtesy jim fulton mit x consortium subject create transparent windowcompletely transparent window easy get use inputonly windoworder create window mostly transparent several choices shape extension first released xr offers easy way make non rectangular windows set shape window fit areas window nontransparent however servers support extensionmachine specific method implementing transparent windows particular servers use overlay plane supported hardwarenote x notion transparent color indexgenerally portable solution use large number tiny windows makes operating application unit difficultfinal answer consider whether really need transparent window would satisfied able overlay application window information draw separate bitplanes colors appear properlythanks der mouse mouse lightning mcrcim mcgill edu see also x journal complete answer including code samples last option subject gxxor produce mathematically correct color valuesusing gxxor may expect drawing value black background black example produce whitehowever drawing operation work rgb values colormap indicescolor resulting colormap index actually points undefined visually random unless actually filledmany x servers black white often programs taking advantage mathematical coincidence breakwant combining colors gxxor allocating number color cells filling chosen pre computed valueswant use gxxor simply switch two colors take shortcut setting background color gc graphics context foreground color value draws red say result blue draws blue result redforeground value xor colormap indices red bluethanks chris flatters cflatter zia aoc nrao edu ken whaley whaley spectre pa dec com subject every color allocate show blackmake sure using bitsred green blue fields xcolor structure scaled nothing full blastforget scale using example color xalloccolor function perform correctly resulting color usually blackthanks paul asente asente adobe com subject program get standard colormapimage processing program uses xgetrgbcolormap get standard colormap workxgetrgbcolormap used property xa_rgb_default_map create standard colormap returns one one already existsuse xstdcmap order create standard colormap firstder mouse mouse larry mcrcim mcgill edu subject pixmap copy screen show garbageinitial contents pixmaps undefinedmeans servers allocate memory leave around whatever happens usually garbageprobably want clear pixmap first using xfillrectangle function gxcopy foreground pixel whatever color want background l using pixmap maskcourtesy dave lemke ncd stuart marks sun subject check whether window id validprogram id window remote displaywant check whether window exists anythingx asynchronous guarantee window would still exist time got id time sent event window otherwise manipulatedsend event without checking install error handler catch badwindow errors would indicate window longer existsscheme work except rare occasion original window destroyed id reallocated another windowcourtesy ken lee klee synoptics com subject two applications draw windowyesx server assigns ids windows resources actually server assigns bits client others application knows id manipulate resource almost x server resource except gcs private color cells sharedproblem face disseminate window id multiple applicationssimple way handle solves problem applications running different machines first application create specially named property root window put window idsecond application retrieves property whose name also knows draw whatever wants windownote scheme works iff one instance first application running scheme subject limitations mentioned question using window ids remote displaysnote also still need coordinate higher level cooperation among applicationsnote also two processes share window try use server connectionone process child close connection server open connectionmostly courtesy phil karlton karlton wpd sgi com subject program work tvtwm swmnumber applications including xwd xwininfo xsetroot handle virtual root window tvtwm swm use typically return wrong child rootgeneral solution add code use application would normally use rootwindow dpy screen function name getvroot description gets root window even virtual root arguments display screen returns root window client include x xatom h window getvroot dpy scr display dpy int scr window rootreturn parentreturn children unsigned int numchildren window root rootwindow dpy scr atom __swm_vroot none int __swm_vroot xinternatom dpy __swm_vroot false xquerytree dpy root rootreturn parentreturn children numchildren numchildren atom actual_type int actual_format long nitems bytesafter window newroot null xgetwindowproperty dpy children __swm_vroot false xa_window actual_type actual_format nitems bytesafter unsigned char newroot success newroot root newroot break return root courtesy david elliott dce smsc sony comsimilar code ssetroot version xsetroot distributed tvtwmheader file andreas stolcke icsi export lcs mit edu contrib vroot h functions similarly providing macros rootwindow defaultrootwindow code include header file first run properly presence virtual desktopsubject keep window resized userresizing window done window manager window managers pay attention size hints application places window guarantee window manager listentry setting minimum maximum size hints target size hope bestsubject keep window foreground timesrather antisocial application constantly raise e gtracking visibilitynotify events overlapped imagine conflict two programs runningsure way window appear top stack make window override redirect means temporarily assuming window management duties window want infrequently short periods time e gpopup menus short parameter setting windowsthanks der mouse mouse larry mcrcim mcgill edu subject make text bitmaps blink xeasy wayunless willing depend sort extension yet non existent arrange blinking either redrawing contents periodically possible playing games colormap changing color contentsthanks mouse larry mcrcim mcgill edu der mouse subject get double click xlibusers xt support translation manager help get notification double clickinggood way get double click xlib protocol provide enough support double clicksclient side timeouts unless single click action defer actually taking next see event serverthus timeouts means system dependent codeunixish implementations use xconnectionnumber get file descriptor x connection use select something similarnote many user interface references suggest double click used extend action indicated single click case interface execute first action compromise check timestamp second event determine whether single click action double click actionthanks mouse larry mcrcim mcgill edu der mouse subjectrender rotated textxlib intentionally provide sophisticated graphics capabilities leaving server extensions clients side graphics librarieschoice want stay within core x protocol render text pixmap read back via xgetimage rotate hand whatever matrices want put back server via xputimage specifically create bitmap b write textcreate xybitmap image b via xgetimagecreate xybitmap image big enough handle transformationx x b x cos theta sin theta b x sin theta cos theta render note careful implement lose bits algorithm based shear transformations may fact betterhigh level server extensions graphics packages available x also permit rendering rotated text display postscript pex phigs gks although capable arbitrary rotation probably use fonts would found printeraddition enough access server install font create font consists letters rotated predefined angleapplication figure placement glyphcourtesy der mouse mouse larry mcrcim mcgill edu eric taylor etaylor wilkins bmc tmc edu ken lee klee synoptics com liam quin lee sq com interviews c ui toolkit x contrib software support rendering rotated fonts xcould one source example codebrian r smith brsmith cs umn edu another possibility use hershey fonts stroke rendered used x converting xdrawline requestseric pencom com xrotfont program alan richardson mppa syma sussex ac uk posted comp sources x july paints rotated font implementing method using outline hershey fontxvertext package alan richardson mppa syma sussex ac uk set functions facilitate writing text angleversion recently released alt sources comp sources misc also export contrib xvertext shar zreilly x resource volume includes information hp modifications x fonts server provide rotated scaled textsubject x registryreserve namesplaces x toolkit applications x protocol define use string namescontext conflicts possible different components use name different thingsmit x consortium maintains registry names domains orgainization names selection names selection targets resource types application classes class extension record types several otherslist directory mit doc registry r tape also available sending send docs registry xstuff mail serverregister names first come first served ask questions send xregistry expo lcs mit edu sure include postal address confirmationcondensed asente swick appendix h david b lewis faq craft uunet uu net faqsjoe friday