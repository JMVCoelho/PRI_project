distributed twm thinks everything three colormap cells must colour screenpatch use screen visual classtwm c dist wed may twm c wed may scr xorvalue unsigned long scr d_depth ifdef oldcode displaycells dpy scrnum scr monochrome monochrome else scr monochrome color else xvisualinfo template xvisualinfo visualinfo int nitems template visual defaultvisual dpy scrnum template visualid xvisualidfromvisual template visual template screen scrnum visualinfo xgetvisualinfo dpy visualidmask visualscreenmask template nitems nitems switch visualinfo class case staticcolor case pseudocolor case truecolor case directcolor scr monochrome color break default scr monochrome monochrome break else void fprintf stderr visual match es assuming mono n nitems scr monochrome monochrome assume endif setup default colors scr firsttime true