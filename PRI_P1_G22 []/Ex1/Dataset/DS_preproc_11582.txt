thomas sunshine kodak com thomas kinsman newsgroups comp os ms windows programmer misc alt binaries pictures utilities subject dib bmp creation guide requestedkeywords dib bmp bitmaps file formats message id dec kodak kodak com date dec gmt sender news kodak kodak com organization precambiran electronics rochester ny lines xref cradle titech comp os ms windows programmer misc guide creation dib images thomas b kinsman precambrian electronics falstaff rdrochester ny thomask kodak com copyright march abstract format images created use ms windows applications documented ms windows programmer reference guideguide intended clearify wording specifications put forth recommendation among various alternativesplease send updates corrections suggestions revisionsplease thank writing time keeping name documentthank respectdocument copyright thomas b kinsmandesired postscript version document availableinformation freeget paysue wrongoverview dib image file format intended device independent bitmap file formatmicrosoft means device independent unclearfour pixel resolutions supported bit bit bit bit pixelsimages intended use dos ibm little endian systemscreating another architecture byte swap short long integer valuesconvention dib images end extension bmpmarch super set earlier bitmap image filesconsequently sometimes hear dib files referred bmp filessince dib images files super set three flavors dib images dos dib imagesrecommended convention form describe createintended applications running ms windows dos environmentos dib imagesunderstanding flavor dib images used presentation managerold style bitmap imagesmarch differences flavors dos dib images consistbitmapfileheader file header identifies file dib fileheader also gives total size image file offset image databitmapinfoheader image header specifies image attributesoptional palette colors used imageexists may contain entriesentry windows rgbquad structureimage dataos dib images consistbitmapfileheader file header identifies file dib fileheader also gives total size image file offset image databitmapcoreheader image header specifies image attributesoptional palette colors used imageexists may contain entriesentry windows rgbtriple structureimage dataold style image bitmap consistseither bitmapinfoheader bitmapcoreheaderheader type determined first long integer dword valueoptional color palettepalette may composed either windows rgbquad structures header bitmapinfoheader windows rgbtriple structures header bitmapcoreheaderimage datacreating dib image filescreating dos dib image file consists several straight forward stepsheaders need created written fileheader structures defined ms windows windows h include filepalette information needs stored images bit imagesfive general stepsfilling bitmapfileheader bitmapinfoheader structures basic image informationimage bit bit bit image creating color palette rgbquadscalculating total file size putting information march bfsize field bitmapfileheadercalculating offset image data start file putting bfoffbits field bitmapfileheaderwriting file bitmapfileheader bitmapinfoheader color palette image data orderfollowing sections describe structures terms microsoft c type defined keywordsfollowing table describes keywords familiar microsoft c _______________________________________ type defined keywords microsoft c ______________________________________ typedef meaning _________ ____________________________ byte unsigned character word two byte unsigned integer dword four byte unsigned integer _________ ____________________________ march bitmapfileheader structure defined windows h typedef struct tagbitmapfileheader word bftype dword bfsize word bfreserved word bfreserved dword bfoffbits bitmapfileheader bftype field two ascii characters bserves identify file dib image fileintel byte ordered machine ibm compatible constant formed c quantity b xd intel systembfsize field total size filepurposes field equal size bitmapfileheader plus size bitmapinfoheader plus number entries color palette times size rgbquad plus number bytes image dataimage data written uncompressed form value calculated ahead timeotherwise field needs filled laterbfreserved bfreserved fields always set zerobfoffbits field set offset start image data start filepurposes field set size bitmapfileheader plus size bitmapinfoheader plus number entries color palette times size rgbquadworks image data written write color palette one existsmarch bitmapinfoheader structure defined windows h typedef struct tagbitmapinfoheader dword bisize dword biwidth dword biheight word biplanes word bibitcount dword bicompression dword bisizeimage dword bixpelspermeter dword biypelspermeter dword biclrused dword biclrimportant bitmapinfoheader bisize field set size bitmapinfoheader structurereading image file value used determine image contains bitmapinfoheader bitmapcoreheaderbiwidth field width image image pixelsbiheight field height image image linesbiplanes field always setdata written one color planebibitcount field bit depth imagemust either depending bit depth image databicompression field tells image data compressed compresseddib images support two forms run length encodinghowever never seen images use know yet worksset field zero long zero l indicate data compressedsubsequent fields bitmapinfoheader structure may set zerorequirement interpretting software able compute fields necessary previous informationfield might want explicitly specify might biclrusedbit bit images field indicates possible color entries used image contains biclrused colorsusing colors bit image may want save possible palette entriesgenerally set field zeromarch color palettes entry color palette rgbquad structurergbquad structure defined windows h include file typedef struct tagrgbquad byte rgbblue byte rgbgreen byte rgbred byte rgbreserved rgbquad rgbreserved field always zerocolor used amount blue green red filled structure structure written filevalue zero rgbblue rgbgreen rgbred fields indicates particular component contribute color compositionvalue fields indicates component contributes fully color compositionimage data three surprises ordering image data dib image filecreator format determined creative certainlywithin image data line written padded next four byte quantitybit image one pixel wide still write four bytes every image linenumber bytes per line calculated bytes_per_line width_in_pix bit_depth terms fields bitmapinfoheader structure bytes_per_line biwidth bibitcount writing image data must write bottom line firstbottom line image would look screen first line image data filebit bit bit images information written would expectone bit images padded eight pixels bytefour bit images padded two pixels byteeight bit images written one pixel per bytetwenty four bit images written three bytes per pixelhowever bit images information must written order blue green redimage file formats write data march rgb ordering dib image file writes data bgr orderingsummary provide enough information create dib images applications scanners image exporting routinesfind dib images please pass information modify document accordinglymarch thomas b kinsman rochester ny thomas acadia kodak com practice random kindness senseless acts beautyanon